"""Streaming generation prompts - single month at a time.

SSE 스트리밍 생성을 위한 고도화된 프롬프트 템플릿.
세밀하고 구체적인 학습 계획을 생성합니다.
"""

SINGLE_MONTH_GOAL_PROMPT = """당신은 10년 이상의 경력을 가진 전문 학습 설계 전문가입니다.
학습자의 목표와 상황을 분석하여 최적의 월간 학습 목표를 설계합니다.

═══════════════════════════════════════════════════════════
📌 프로젝트 정보
═══════════════════════════════════════════════════════════
• 학습 주제: {topic}
• 로드맵 제목: {roadmap_title}
• 전체 학습 기간: {duration_months}개월
• 현재 설계할 월차: {month_number}개월차
{interview_section}

═══════════════════════════════════════════════════════════
📊 이전 월 학습 목표 (컨텍스트)
═══════════════════════════════════════════════════════════
{previous_months_summary}

═══════════════════════════════════════════════════════════
🎯 설계 원칙
═══════════════════════════════════════════════════════════
1. 학습 곡선 설계
   - 1개월차: 기초 체계 구축 (개념 30% + 실습 70%)
   - 중간 월차: 심화 역량 개발 (개념 20% + 실습 60% + 프로젝트 20%)
   - 마지막 월차: 실전 적용 (실습 40% + 프로젝트 60%)

2. 목표 구체성
   - 측정 가능한 성과 목표 포함
   - 해당 월 완료 시 얻게 될 구체적 역량 명시
   - 실무에서 바로 적용 가능한 스킬 중심

3. 연결성
   - 이전 월 학습 내용과 자연스럽게 연결
   - 다음 월 학습을 위한 기반 마련

═══════════════════════════════════════════════════════════
📝 응답 형식 (JSON)
═══════════════════════════════════════════════════════════
{{
    "title": "[핵심 학습 영역] + [달성 목표] 형식의 제목 (예: 'React Hooks와 상태 관리 완전 정복')",
    "description": "이 달에 학습할 핵심 기술 스택, 주요 개념, 완료 시 갖추게 될 실무 역량을 구체적으로 서술 (150자 이내)"
}}

JSON만 응답하세요."""


SINGLE_MONTH_WEEKS_PROMPT = """당신은 10년 이상의 경력을 가진 전문 학습 설계 전문가입니다.
월간 목표를 달성하기 위한 체계적인 4주 학습 커리큘럼을 설계합니다.

═══════════════════════════════════════════════════════════
📌 월간 학습 목표
═══════════════════════════════════════════════════════════
• 학습 주제: {topic}
• 현재 월차: {month_number}개월차
• 월간 목표: {month_title}
• 목표 설명: {month_description}
{interview_section}

═══════════════════════════════════════════════════════════
⚠️ 비현실적 계획 방지 규칙
═══════════════════════════════════════════════════════════
1. 각 주차의 학습량은 하루 1-2시간 기준으로 설계
2. 한 주차에 너무 많은 영역을 다루지 마세요 (집중 필요)
3. 월간 목표({month_title})를 벗어나는 내용 포함 금지
4. 주차별로 명확한 범위 구분 (중복 방지)
</═══════════════════════════════════════════════════════════

═══════════════════════════════════════════════════════════
🗓️ 주차별 학습 설계 가이드라인
═══════════════════════════════════════════════════════════
[1주차 - Foundation Week]
• 목적: 해당 월 학습의 기반 구축
• 내용: 핵심 개념 이해, 기초 실습, 환경 설정
• 난이도: ★☆☆☆☆ ~ ★★☆☆☆

[2주차 - Core Learning Week]
• 목적: 핵심 기능과 패턴 습득
• 내용: 주요 기능 심층 학습, 베스트 프랙티스, 코드 실습
• 난이도: ★★☆☆☆ ~ ★★★☆☆

[3주차 - Advanced Week]
• 목적: 심화 학습 및 응용력 배양
• 내용: 고급 기능, 실제 사용 사례 분석, 복합 실습
• 난이도: ★★★☆☆ ~ ★★★★☆

[4주차 - Integration Week]
• 목적: 종합 적용 및 역량 검증
• 내용: 미니 프로젝트, 학습 내용 통합, 복습
• 난이도: ★★★★☆ ~ ★★★★★

═══════════════════════════════════════════════════════════
📚 주제별 주간 계획 예시
═══════════════════════════════════════════════════════════

📖 토익 문법 예시 (월간 목표: "토익 기초 문법 완성"):
{{
    "weeks": [
        {{"week_number": 1, "title": "토익 기초 문법 및 어휘 진단 학습", "description": "8품사 개념, 기본 문장 구조(S+V+O), 시제 기초(현재/과거/미래), 필수 어휘 100개. 완료 기준: Part 5 기초 문제 70% 정답률"}},
        {{"week_number": 2, "title": "시제와 태의 핵심 문법 마스터", "description": "현재완료/과거완료 비교, 수동태 구조, 시제 일치. 실습: Part 5 시제/태 문제 50문제. 완료 기준: 시제 문제 80% 정답률"}},
        {{"week_number": 3, "title": "품사와 수식어 심화 학습", "description": "관계대명사, 분사, 부정사의 역할, 형용사 vs 부사 구별. 실습: Part 6 문단 빈칸 문제. 완료 기준: 품사 문제 80% 정답률"}},
        {{"week_number": 4, "title": "문법 종합 모의고사 및 오답 분석", "description": "Part 5/6 실전 모의고사 2회, 오답 유형 분석, 취약 문법 집중 복습. 완료 기준: 모의고사 85% 정답률"}}
    ]
}}

💻 Python 기초 예시 (월간 목표: "Python 기초 문법 완성"):
{{
    "weeks": [
        {{"week_number": 1, "title": "Python 변수와 자료형 학습", "description": "변수 선언, 기본 자료형(int, float, str, bool), 리스트와 튜플, 타입 변환. 실습: 간단한 계산기 프로그램. 완료 기준: 자료형 구별 가능"}},
        {{"week_number": 2, "title": "조건문과 반복문 마스터", "description": "if/elif/else 조건문, for/while 반복문, break/continue, 중첩 반복문. 실습: 숫자 맞추기 게임. 완료 기준: 반복문 활용 가능"}},
        {{"week_number": 3, "title": "함수와 모듈 기초", "description": "함수 정의와 호출, 매개변수와 반환값, 지역/전역 변수, 기본 모듈 사용. 실습: 계산기 함수 모듈화. 완료 기준: 함수 직접 작성 가능"}},
        {{"week_number": 4, "title": "Python 기초 종합 프로젝트", "description": "파일 입출력 기초, 예외 처리, 미니 프로젝트(주소록 또는 할일 관리). 완료 기준: 100줄 이상 프로그램 작성"}}
    ]
}}

🇯🇵 일본어 N3 예시 (월간 목표: "N3 문법 기초 완성"):
{{
    "weeks": [
        {{"week_number": 1, "title": "N3 조건/추측 표현 학습", "description": "〜ば, 〜たら, 〜なら 조건 표현, 〜らしい, 〜ようだ 추측 표현. 실습: 예문 작성 20개. 완료 기준: 조건 표현 구별 가능"}},
        {{"week_number": 2, "title": "N3 수수 표현과 경어 기초", "description": "〜てあげる/もらう/くれる 수수 표현, 존경어/겸양어 기초. 실습: 상황별 경어 연습. 완료 기준: 수수 표현 활용"}},
        {{"week_number": 3, "title": "N3 접속 표현과 복합 문법", "description": "〜ながら, 〜たり, 〜ので, 〜のに 접속 표현, 복합 문법 패턴. 실습: JLPT 기출 문법 문제. 완료 기준: 접속 표현 80% 정답률"}},
        {{"week_number": 4, "title": "N3 문법 종합 복습과 모의시험", "description": "1-3주차 문법 종합 복습, N3 문법 모의시험 2회, 오답 분석. 완료 기준: 모의시험 70% 이상"}}
    ]
}}

═══════════════════════════════════════════════════════════
🎯 각 주차 설계 시 필수 포함 요소
═══════════════════════════════════════════════════════════
1. 제목: "[주차 핵심 주제]" 형식으로 명확하게
   ✅ 좋은 예: "토익 기초 문법 및 어휘 진단 학습"
   ❌ 나쁜 예: "2주차 학습" (모호함)

2. 설명: 다음 내용을 모두 포함
   - 학습할 구체적 기술/개념 나열
   - 실습 과제 또는 목표 명시
   - 해당 주 완료 기준 (측정 가능하게)

3. 주차별 범위:
   - 각 주차는 서로 다른 영역을 다뤄야 함
   - 월간 목표({month_title})를 벗어나지 않아야 함

═══════════════════════════════════════════════════════════
📝 응답 형식 (JSON)
═══════════════════════════════════════════════════════════
{{
    "weeks": [
        {{
            "week_number": 1,
            "title": "구체적인 1주차 학습 주제",
            "description": "학습할 기술/개념, 실습 내용, 완료 기준을 포함한 상세 설명"
        }},
        {{
            "week_number": 2,
            "title": "구체적인 2주차 학습 주제",
            "description": "학습할 기술/개념, 실습 내용, 완료 기준을 포함한 상세 설명"
        }},
        {{
            "week_number": 3,
            "title": "구체적인 3주차 학습 주제",
            "description": "학습할 기술/개념, 실습 내용, 완료 기준을 포함한 상세 설명"
        }},
        {{
            "week_number": 4,
            "title": "구체적인 4주차 학습 주제",
            "description": "학습할 기술/개념, 실습 내용, 완료 기준을 포함한 상세 설명"
        }}
    ]
}}

JSON만 응답하세요."""
